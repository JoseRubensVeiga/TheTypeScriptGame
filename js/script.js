!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=function(){function t(t){this.notifyFn=t}return t.prototype.notify=function(t){this.notifyFn(t)},t}(),o=function(){function t(t,e,r){var n;this.keys=((n={})[r.up]={rows:-1},n[r.right]={columns:1},n[r.down]={rows:1},n[r.left]={columns:-1},n),this.player=document.createElement("div"),this.player.classList.add("player"),this.player.style.gridColumn=this.validateRow(e).toString(),this.player.style.gridRow=this.validateColumn(t).toString()}return t.prototype.setPlayerObserver=function(){var t=this;this.observer=new n((function(e){var r=t.getKeys();r[e]&&t.move(r[e])}))},t.prototype.getPlayerObserver=function(){return this.observer},t.prototype.validateColumn=function(t){return t<=0?1:t<=15?t:15},t.prototype.validateRow=function(t){return t<=0?1:t<=15?t:15},t.prototype.getElement=function(){return this.player},t.prototype.getKeys=function(){return this.keys},t.prototype.move=function(t){var e=parseInt(this.player.style.getPropertyValue("grid-row").split(" ")[0]),r=parseInt(this.player.style.getPropertyValue("grid-column").split(" ")[0]),n=e+(t.rows||0),o=r+(t.columns||0);this.player.style.gridRow=""+this.validateRow(n),this.player.style.gridColumn=""+this.validateColumn(o)},t}(),i=function(t){this.element=document.getElementById(t)},l=new(function(){function t(){var t=new i("app");this.app=t.element,this.createGame()}return t.prototype.createGame=function(){return this.app.classList.add("game-container"),this.app.style.gridTemplateRows="repeat(15, 1fr)",this.app.style.gridTemplateColumns="repeat(15, 1fr)",t},t.prototype.registerPlayer=function(t){t instanceof o&&(t=t.getElement()),this.app.appendChild(t)},t}()),s=new o(3,5,{up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",left:"ArrowLeft"});l.registerPlayer(s),s.move({columns:1,rows:3})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXBwL09ic2VydmVyLnRzIiwid2VicGFjazovLy8uL2FwcC9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2Vudmlyb21lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL0VsZW1lbnRSZWYudHMiLCJ3ZWJwYWNrOi8vLy4vYXBwL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9hcHAvR2FtZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm5vdGlmeUZuIiwidGhpcyIsIm5vdGlmeSIsImRhdGEiLCJjb2x1bW4iLCJyb3ciLCJwbGF5ZXJLZXlzIiwia2V5cyIsInVwIiwicm93cyIsInJpZ2h0IiwiY29sdW1ucyIsImRvd24iLCJsZWZ0IiwicGxheWVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJncmlkQ29sdW1uIiwidmFsaWRhdGVSb3ciLCJ0b1N0cmluZyIsImdyaWRSb3ciLCJ2YWxpZGF0ZUNvbHVtbiIsInNldFBsYXllck9ic2VydmVyIiwib2JzZXJ2ZXIiLCJPYnNlcnZlciIsImFyZ3MiLCJnZXRLZXlzIiwibW92ZSIsImdldFBsYXllck9ic2VydmVyIiwiZ2V0RWxlbWVudCIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNwbGl0IiwibmV3Um93IiwibmV3Q29sdW1uIiwiZWxlbWVudElkIiwiZWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2FtZSIsImVsZW1lbnRSZWYiLCJFbGVtZW50UmVmIiwiYXBwIiwiY3JlYXRlR2FtZSIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiR2FtZSIsInJlZ2lzdGVyUGxheWVyIiwiYXBwZW5kQ2hpbGQiLCJwbGF5ZXIxIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FB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SUMsRUFBVyxPQUNsQzFDLEtBQUsyQyxJQUFNRixFQUFXSCxRQUV0QnRDLEtBQUs0QyxhQW1CYixPQWhCSSxZQUFBQSxXQUFBLFdBTUksT0FKQTVDLEtBQUsyQyxJQUFJM0IsVUFBVUMsSUFBSSxrQkFDdkJqQixLQUFLMkMsSUFBSXpCLE1BQU0yQixpQkFBbUIsa0JBQ2xDN0MsS0FBSzJDLElBQUl6QixNQUFNNEIsb0JBQXNCLGtCQUU5QkMsR0FHWCxZQUFBQyxlQUFBLFNBQWVuQyxHQUVSQSxhQUFrQixJQUNqQkEsRUFBU0EsRUFBT2tCLGNBRXBCL0IsS0FBSzJDLElBQUlNLFlBQVlwQyxJQUU3QixFQTFCQSxJRENNcUMsRUFBVSxJQUFJLEVBQU8sRUFBRyxFQUFHLENBQzdCM0MsR0FBSSxVQUNKRSxNQUFPLGFBQ1BFLEtBQU0sWUFDTkMsS0FBTSxjQUdWNEIsRUFBS1EsZUFBZUUsR0FFcEJBLEVBQVFyQixLQUFLLENBQ1RuQixRQUFTLEVBQ1RGLEtBQU0iLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGNsYXNzIE9ic2VydmVyIHtcclxuICAgIG5vdGlmeUZuOiBGdW5jdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihub3RpZnlGbjogRnVuY3Rpb24pIHtcclxuICAgICAgICB0aGlzLm5vdGlmeUZuID0gbm90aWZ5Rm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG5vdGlmeShkYXRhOiBhbnlbXSB8IHt9KSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlGbihkYXRhKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBNb3ZlUGxheWVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzL01vdmVQbGF5ZXIuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgS2V5Ym9hcmRLZXlzIH0gZnJvbSAnLi9pbnRlcmZhY2VzL0tleWJvYXJkS2V5cy5pbnRlcmZhY2UnO1xyXG5cclxuaW1wb3J0IHsgR0FNRV9DT0xVTU5TLCBHQU1FX1JPV1MgfSBmcm9tICcuL2Vudmlyb21lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBrZXlzOiBhbnk7XHJcbiAgICBwbGF5ZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgb2JzZXJ2ZXI6IE9ic2VydmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbHVtbjogbnVtYmVyLCByb3c6IG51bWJlciwgcGxheWVyS2V5czogS2V5Ym9hcmRLZXlzKSB7XHJcbiAgICAgICAgdGhpcy5rZXlzID0ge1xyXG4gICAgICAgICAgICBbcGxheWVyS2V5cy51cF06IHtyb3dzOiAtMX0sXHJcbiAgICAgICAgICAgIFtwbGF5ZXJLZXlzLnJpZ2h0XToge2NvbHVtbnM6IDF9LFxyXG4gICAgICAgICAgICBbcGxheWVyS2V5cy5kb3duXToge3Jvd3M6IDF9LFxyXG4gICAgICAgICAgICBbcGxheWVyS2V5cy5sZWZ0XToge2NvbHVtbnM6IC0xfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmNsYXNzTGlzdC5hZGQoJ3BsYXllcicpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllci5zdHlsZS5ncmlkQ29sdW1uID0gdGhpcy52YWxpZGF0ZVJvdyhyb3cpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuc3R5bGUuZ3JpZFJvdyA9IHRoaXMudmFsaWRhdGVDb2x1bW4oY29sdW1uKS50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllck9ic2VydmVyKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXIoKGFyZ3M6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXlzID0gdGhpcy5nZXRLZXlzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGtleXNbYXJnc10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZShrZXlzW2FyZ3NdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxheWVyT2JzZXJ2ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhbGlkYXRlQ29sdW1uKGNvbHVtbjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKGNvbHVtbiA8PSAwKSA/IDEgOiAoKGNvbHVtbiA8PSBHQU1FX0NPTFVNTlMgKSA/IGNvbHVtbiA6IEdBTUVfQ09MVU1OUyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVSb3cocm93OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAocm93IDw9IDApID8gMSA6ICgocm93IDw9IEdBTUVfUk9XUyApID8gcm93IDogR0FNRV9ST1dTKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0S2V5cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBtb3ZlKG1vdmU6IE1vdmVQbGF5ZXIpIHtcclxuICAgICAgICBjb25zdCByb3cgPSBwYXJzZUludCh0aGlzLnBsYXllci5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdncmlkLXJvdycpLnNwbGl0KFwiIFwiKVswXSk7XHJcbiAgICAgICAgY29uc3QgY29sdW1uID0gcGFyc2VJbnQodGhpcy5wbGF5ZXIuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZ3JpZC1jb2x1bW4nKS5zcGxpdChcIiBcIilbMF0pO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdSb3cgPSByb3cgKyAobW92ZS5yb3dzIHx8IDApO1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbHVtbiA9IGNvbHVtbiArIChtb3ZlLmNvbHVtbnMgfHwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyLnN0eWxlLmdyaWRSb3cgPSBgJHt0aGlzLnZhbGlkYXRlUm93KG5ld1Jvdyl9YDtcclxuICAgICAgICB0aGlzLnBsYXllci5zdHlsZS5ncmlkQ29sdW1uID0gYCR7dGhpcy52YWxpZGF0ZUNvbHVtbihuZXdDb2x1bW4pfWA7XHJcbiAgICB9O1xyXG59XHJcblxyXG4iLCJcclxuZXhwb3J0IGNvbnN0IEdBTUVfQ09MVU1OUyA9IDE1O1xyXG5leHBvcnQgY29uc3QgR0FNRV9ST1dTID0gMTU7IiwiZXhwb3J0IGNsYXNzIEVsZW1lbnRSZWYge1xyXG4gICAgcHVibGljIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vUGxheWVyJztcclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vR2FtZSc7XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcclxuXHJcbmNvbnN0IHBsYXllcjEgPSBuZXcgUGxheWVyKDMsIDUsIHtcclxuICAgIHVwOiAnQXJyb3dVcCcsXHJcbiAgICByaWdodDogJ0Fycm93UmlnaHQnLFxyXG4gICAgZG93bjogJ0Fycm93RG93bicsXHJcbiAgICBsZWZ0OiAnQXJyb3dMZWZ0JyxcclxufSk7XHJcblxyXG5nYW1lLnJlZ2lzdGVyUGxheWVyKHBsYXllcjEpO1xyXG5cclxucGxheWVyMS5tb3ZlKHtcclxuICAgIGNvbHVtbnM6IDEsXHJcbiAgICByb3dzOiAzXHJcbn0pO1xyXG5cclxuIiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9QbGF5ZXInO1xyXG5pbXBvcnQgeyBFbGVtZW50UmVmIH0gZnJvbSAnLi9FbGVtZW50UmVmJztcclxuaW1wb3J0IHsgR0FNRV9ST1dTLCBHQU1FX0NPTFVNTlMgfSBmcm9tICcuL2Vudmlyb21lbnQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgYXBwOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50UmVmID0gbmV3IEVsZW1lbnRSZWYoJ2FwcCcpO1xyXG4gICAgICAgIHRoaXMuYXBwID0gZWxlbWVudFJlZi5lbGVtZW50O1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHYW1lKCkge1xyXG5cclxuICAgICAgICB0aGlzLmFwcC5jbGFzc0xpc3QuYWRkKCdnYW1lLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIHRoaXMuYXBwLnN0eWxlLmdyaWRUZW1wbGF0ZVJvd3MgPSBgcmVwZWF0KCR7R0FNRV9ST1dTfSwgMWZyKWA7XHJcbiAgICAgICAgdGhpcy5hcHAuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGByZXBlYXQoJHtHQU1FX0NPTFVNTlN9LCAxZnIpYDtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gR2FtZTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlclBsYXllcihwbGF5ZXI6IGFueSkge1xyXG5cclxuICAgICAgICBpZihwbGF5ZXIgaW5zdGFuY2VvZiBQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcGxheWVyID0gcGxheWVyLmdldEVsZW1lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hcHAuYXBwZW5kQ2hpbGQocGxheWVyKTtcclxuICAgIH1cclxufTtcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=